![](photo.png)

# Моя среда разработки
Я работаю на MacOS Mojave.</br>
Для корректного запуска сервера нужно:</br>
mysql: stable 8.0.19</br>
node: stable 13.11.0</br>

# Как выполнял работу
Cтатьи, на которые я опирался при выполнение работы:
#### Create new React-js app : 
https://github.com/facebook/create-react-app#create-react-app-- <br/>
Быстрый старт + установка необходимого софта для сборки (build). Из описания пакета: «Под капотом» используются Babel и webpack.

#### Совмещение стилей
Как использовать ES6 в node js https://www.freecodecamp.org/news/how-to-enable-es6-and-beyond-syntax-with-node-and-express-68d3e11fe1ab/

До этого задания я писал фронт на React-js, а бэк на python flask. Поэтому мне было неудобно с синтаксисом Node js.
Для удобной работы я установил __esm__ пакет:<br/>
__npm i esm --save__<br/>
Он позволяет писать все в стиле ES6.

#### Поднятие сразу 3 серверов 
Сервер для приложения React: npm run start. Запускается на localhost:3000<br/>
Node Js сервер: npm run server. Запускается на localhost:3001<br/>
mysql сервер: npm run mysqlserv. Запускается на localhost:3006<br/>

Пришлось чуть поразбираться, как запустить их паралелльно. Особенно с mysql(о нем ниже).

Статья в помощь https://www.twilio.com/blog/react-app-with-node-js-server-proxy<br/>
Сервера React и Node Js на прокси соединение.

# База данных
Выбрал mysql, так как это СУБД максимально распространена среди разработчиков + я проходил обучение на ней.<br/>
В папке DB_base хранится база данных, которую я сам создал для приложения. В бд 2 таблицы: пользователи и диаграммы.

###  Быстрый импорт
Чтобы быстро устоновить мою бд пропишите: mysql -u root -p myexample < myexample.sql<br/>
Так как теперь подключаться по __root__ к базе нельзя, пришлось создать пользователя для подключения:<br/>
>sudo mysql -u root -p (спросит пароль)<br/>
create user 'test_user'@'%' identified by 'test_user';<br/>
grant all privileges on *.* to 'test_user'@'%';<br/>
grant grant option on *.* to 'test_user'@'%';<br/>
flush privileges;<br/>
quit;<br/>
>

В файле server/config/config.js Лежит структура, в которой прописанно настройки подключения. <br/>
Для работы с Mysql использую: __npm i mysql2.__<br/>

>Таблицы tbl_user<br/>

user_id | user_login | user_password
---: | :-- | :-- 
|       1 | admin | admin

>Описание таблицы с диаграммами

Field| Type| Null | Key | Default | Extra |
---| ---| ---| ---| ---| ---
diagram_name | varchar(45) | NO   |     | NULL    |      
diagram_text | longtext    | NO   |     | NULL    |      

diagram_name - название диаграммы.<br/>
diagram_text - тело XML диаграммы в виде строки.

# Быстрый запуск
После того, как все необходимые пакеты установлены, база данных готова, прописываем: __npm run dev__<br/>
Происходит параллельный запуск 3 серверов.

## Приветственное окно (окно авторизации)
По тз необходимо было сделать окно авторизации. При вводе происходит проверка на наличие пользователя в бд. Сделал только -u admin -p admin.<br/>
Пароль не стал шифровать, но вообще знаю как это сделать через sha256 шифрование.

### Бонусом сделал cookie, чтобы при обновлении страницы не логиняться

# Основное окно
Использовал react-bpmn пакет для React-js. В целом разобрался, мог бы позже подключить полный bpmn для редактирования моделей.

## Доп бонусы
Сделал выбор из бд 3 загруженных примеров XML диаграмм + возможность загрузить с компа в приложение, а потом сохранить на сервер.

##### И на последок
Попробовал сделать окно авторизации в стиле Сбербанка. 
